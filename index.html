<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>å­æ€¡å¤©å¤©å¼€å¿ƒÂ·ä¸“å±ç¥ç¦</title>
<style>
  body {
    background-color: #000;
    overflow: hidden;
    font-family: "Arial", sans-serif;
    margin: 0;
    padding: 0;
  }
  /* äº”å½©ç²’å­èƒŒæ™¯å®¹å™¨ï¼ˆå…¨å±ï¼‰ */
  #particleBackground {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 5; /* ä½äºå¼¹çª—å’ŒæŒ‰é’® */
    pointer-events: none; /* ä¸å½±å“ç‚¹å‡»äº¤äº’ */
  }
  .tip {
    position: absolute;
    padding: 12px 24px;
    border-radius: 15px;
    font-size: 20px;
    color: #fff;
    max-width: 300px;
    text-align: center;
    word-wrap: break-word;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    opacity: 0;
    transition: opacity 0.5s, transform 6s ease-in-out;
    z-index: 20;
  }
  /* ä¸»æ’­æ”¾æŒ‰é’®ï¼ˆå±…ä¸­å¤§å°ºå¯¸ï¼Œå¤šå½©å‘å…‰ï¼‰ */
  .main-play-btn {
    position: fixed;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    padding: 18px 36px;
    background: linear-gradient(45deg, #ff6b6b, #ffd166, #06d6a0, #118ab2);
    background-size: 400% 400%;
    color: white;
    border: none;
    border-radius: 30px;
    font-size: 22px;
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
    cursor: pointer;
    z-index: 999;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    animation: gradientShift 8s ease infinite;
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  .main-play-btn:hover {
    transform: translateX(-50%) scale(1.05);
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.6);
  }
  /* çŠ¶æ€æç¤º */
  .status {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    color: #f0f0f0;
    font-size: 16px;
    background: rgba(0,0,0,0.7);
    padding: 8px 15px;
    border-radius: 20px;
    z-index: 999;
    text-align: center;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
  }
  /* æœ¬åœ°éŸ³é¢‘æ§åˆ¶å™¨ï¼ˆéšè—ï¼‰ */
  .audio-control {
    display: none;
  }
</style>
</head>
<body>

<!-- å…¨å±äº”å½©ç²’å­èƒŒæ™¯å®¹å™¨ -->
<div id="particleBackground"></div>

<!-- æœ¬åœ°éŸ³é¢‘ï¼ˆlove.mp3ï¼‰ -->
<audio id="localAudio" class="audio-control" loop preload="auto">
  <source src="love.mp3" type="audio/mpeg">
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ï¼Œè¯·å‡çº§æµè§ˆå™¨ï¼
 ></audio>

<div class="status" id="status">ç‚¹å‡»ä¸‹é¢æ’­æ”¾æŒ‰é’®å“¦ï½ï½</div>
<button class="main-play-btn" id="mainPlayBtn">
  ğŸµ æ’­æ”¾éŸ³ä¹ + å¯åŠ¨ç¼¤çº·æ•ˆæœ
</button>

<script>
// ã€Œå­æ€¡å¤©å¤©å¼€å¿ƒã€ä¸“å±ç¥ç¦æ–‡æ¡ˆ
const tips = [
    'å­æ€¡ï¼Œæ„¿ä½ å¤©å¤©å¼€å¿ƒï¼Œç¬‘å®¹å¸¸åœ¨ï¼',
    'å­æ€¡å®è´ï¼Œæ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡å‘€ï¼',
    'å­æ€¡ï¼Œå¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºæ„ï¼',
    'æ„¿å­æ€¡çš„æ¯ä¸€å¤©éƒ½ç”œç”œèœœèœœï¼',
    'å­æ€¡ï¼Œè¢«å¹¸ç¦å’Œå¿«ä¹ç´§ç´§åŒ…å›´ï¼',
    'å­æ€¡ï¼Œçƒ¦æ¼é€€æ•£ï¼Œå¥½è¿è¿è¿ï¼',
    'æ„¿å­æ€¡æ°¸è¿œå¼€å¿ƒï¼Œæ— å¿§æ— è™‘ï¼',
    'å­æ€¡ï¼Œæ¯å¤©éƒ½æœ‰æ–°æƒŠå–œï¼Œå¥½å¿ƒæƒ…ï¼',
    'å­æ€¡ï¼Œç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±ï¼Œå¤©å¤©å¼€å¿ƒï¼',
    'æ„¿å­æ€¡çš„ä¸–ç•Œæ°¸è¿œå……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ï¼',
    'å­æ€¡ï¼Œå¼€å¿ƒæ˜¯ç¬¬ä¸€è¦åŠ¡ï¼Œæ¯å¤©éƒ½è¦å¿«ä¹ï¼',
    'å­æ€¡ï¼Œæ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ï¼Œå¤©å¤©å¼€å¿ƒï¼',
    'å­æ€¡ï¼Œæ¯ä¸€ä¸ªæ—¥å­éƒ½é—ªé—ªå‘å…‰ï¼Œå¼€å¿ƒç›¸ä¼´ï¼',
    'æ„¿å­æ€¡ç¬‘å®¹ç¿çƒ‚ï¼Œå¤©å¤©éƒ½æœ‰å¥½å¿ƒæƒ…ï¼',
    'å­æ€¡ï¼Œå¹³å®‰å¥åº·ï¼Œå¼€å¿ƒæ¯ä¸€å¤©ï¼'
];

// ä¸€ã€å¤šå½©ç¥ç¦å¼¹çª—ï¼ˆå’Œè°é…è‰²ï¼Œç¬¦åˆå¤§ä¼—å®¡ç¾ï¼‰
// ä¼˜åŒ–é…è‰²æ–¹æ¡ˆï¼šæŸ”å’Œé©¬å¡é¾™è‰²ç³»+æ˜äº®ç³–æœè‰²ï¼Œé¿å…åˆºçœ¼
const tipColors = [
    'rgba(255, 105, 180, 0.85)', // ç²‰ç´«
    'rgba(100, 149, 237, 0.85)', // å¤©è“
    'rgba(60, 179, 113, 0.85)',  // è–„è·ç»¿
    'rgba(255, 165, 0, 0.85)',   // æ©™é»„
    'rgba(153, 102, 255, 0.85)', // æ·¡ç´«
    'rgba(255, 99, 71, 0.85)',   // ç•ªèŒ„çº¢
    'rgba(46, 139, 87, 0.85)',   // æµ·ç»¿
    'rgba(238, 130, 238, 0.85)', // æµ…ç´«
    'rgba(255, 215, 0, 0.85)',   // é‡‘é»„
    'rgba(173, 216, 230, 0.85)'  // æµ…è“
];

function showTip() {
    const tip = document.createElement('div');
    tip.className = 'tip';
    tip.innerText = tips[Math.floor(Math.random() * tips.length)];

    // éšæœºé€‰æ‹©å’Œè°é…è‰²ï¼Œæ­é…å¯¹åº”å‘å…‰é˜´å½±
    const color = tipColors[Math.floor(Math.random() * tipColors.length)];
    tip.style.backgroundColor = color;
    // é˜´å½±é¢œè‰²ä¸èƒŒæ™¯è‰²å‘¼åº”ï¼Œå¢å¼ºç«‹ä½“æ„Ÿ
    const shadowColor = color.replace('0.85)', '0.6)');
    tip.style.boxShadow = `0 0 15px ${shadowColor}, 0 0 8px rgba(255, 255, 255, 0.4)`;

    const x = Math.random() * (window.innerWidth - 320);
    const y = Math.random() * (window.innerHeight - 120);
    tip.style.left = x + 'px';
    tip.style.top = y + 'px';
    tip.style.transform = `translateY(${Math.random() * 50 - 25}px) scale(0.9)`;

    document.body.appendChild(tip);
    setTimeout(() => {
        tip.style.opacity = '1';
        tip.style.transform = `translateY(${Math.random() * 100 - 50}px) scale(1)`;
    }, 50);

    setTimeout(() => {
        tip.style.opacity = '0';
        tip.style.transform = `translateY(${Math.random() * 100 - 50}px) scale(0.9)`;
        setTimeout(() => {
            tip.remove();
        }, 500);
    }, 5500);
}

function startTips() {
    let count = 0;
    const totalTips = 80;
    const interval = setInterval(() => {
        if(count >= totalTips){
            clearInterval(interval);
        } else {
            showTip();
            count++;
        }
    }, 200);
}

// äºŒã€äº”å½©åŠ¨æ€ç²’å­èƒŒæ™¯ï¼ˆå’Œè°é…è‰²+çµåŠ¨æ•ˆæœï¼‰
class ColorfulParticle {
    constructor(container) {
        this.container = container;
        this.element = document.createElement('div');
        this.init();
        // ç²’å­åŠ¨æ€å±æ€§
        this.speedX = (Math.random() - 0.5) * 0.4; // ç¼“æ…¢ç§»åŠ¨
        this.speedY = (Math.random() - 0.5) * 0.4;
        this.flashRate = Math.random() * 800 + 600; // æŸ”å’Œé—ªçƒé¢‘ç‡
        this.lastFlash = Date.now();
    }

    init() {
        // ç²’å­å¤§å°ï¼š2~5pxï¼Œç²¾è‡´ä¸çªå…€
        const size = Math.random() * 3 + 2;
        this.element.style.position = 'absolute';
        this.element.style.width = `${size}px`;
        this.element.style.height = `${size}px`;
        this.element.style.borderRadius = '50%';

        // äº”å½©é…è‰²æ–¹æ¡ˆï¼šæŸ”å’Œé©¬å¡é¾™è‰²ç³»ï¼Œé¿å…é«˜é¥±å’Œåˆºçœ¼
        const colorPalettes = [
            [255, 192, 203], // ç²‰çº¢
            [173, 216, 230], // æµ…è“
            [144, 238, 144], // æµ…ç»¿
            [255, 215, 0],   // é‡‘é»„
            [238, 130, 238], // æµ…ç´«
            [255, 248, 220], // ç±³è‰²
            [204, 255, 204], // è–„è·ç»¿
            [255, 228, 196]  // æ¡ƒè‰²
        ];
        const [r, g, b] = colorPalettes[Math.floor(Math.random() * colorPalettes.length)];
        this.baseAlpha = Math.random() * 0.3 + 0.4; // é€æ˜åº¦0.4~0.7ï¼ŒæŸ”å’Œä¸çªå…€
        this.element.style.backgroundColor = `rgba(${r}, ${g}, ${b}, ${this.baseAlpha})`;

        // å¯¹åº”é¢œè‰²çš„æŸ”å’Œå‘å…‰ï¼Œå¢å¼ºæ°›å›´
        this.element.style.boxShadow = `0 0 6px rgba(${r}, ${g}, ${b}, 0.8), 0 0 3px rgba(255, 255, 255, 0.5)`;

        // éšæœºåˆå§‹ä½ç½®ï¼ˆå…¨å±å‡åŒ€åˆ†å¸ƒï¼‰
        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;
        this.element.style.left = `${this.x}px`;
        this.element.style.top = `${this.y}px`;

        this.container.appendChild(this.element);
    }

    // ç¼“æ…¢ç§»åŠ¨+è¾¹ç•Œåå¼¹
    move() {
        this.x += this.speedX;
        this.y += this.speedY;

        // è¾¹ç•Œåå¼¹ï¼Œé¿å…ç²’å­æ¶ˆå¤±
        if (this.x < 0 || this.x > window.innerWidth) this.speedX *= -1;
        if (this.y < 0 || this.y > window.innerHeight) this.speedY *= -1;

        this.element.style.left = `${this.x}px`;
        this.element.style.top = `${this.y}px`;
    }

    // æŸ”å’Œé—ªçƒï¼ˆé€æ˜åº¦æ¸å˜ï¼Œä¸çªå…€ï¼‰
    flash() {
        const now = Date.now();
        if (now - this.lastFlash > this.flashRate) {
            const targetAlpha = Math.random() > 0.5 ? this.baseAlpha * 1.5 : this.baseAlpha * 0.6;
            // æ¸å˜è¿‡æ¸¡ï¼Œé¿å…ç”Ÿç¡¬åˆ‡æ¢
            this.element.style.transition = 'background-color 0.3s ease';
            this.element.style.backgroundColor = this.element.style.backgroundColor.replace(
                /rgba\((\d+), (\d+), (\d+), [^)]+\)/,
                `rgba($1, $2, $3, ${targetAlpha})`
            );
            this.lastFlash = now;
            // é‡ç½®è¿‡æ¸¡ï¼Œé¿å…å½±å“ç§»åŠ¨
            setTimeout(() => {
                this.element.style.transition = 'none';
            }, 300);
        }
    }

    // å¸§æ›´æ–°
    update() {
        this.move();
        this.flash();
    }
}

// åˆ›å»ºäº”å½©ç²’å­èƒŒæ™¯ï¼ˆç²’å­æ•°é‡350ï¼Œåˆ†å¸ƒå‡åŒ€ï¼‰
function createColorfulParticleBackground() {
    const container = document.getElementById('particleBackground');
    const particleCount = 350;
    const particles = [];

    for (let i = 0; i < particleCount; i++) {
        particles.push(new ColorfulParticle(container));
    }

    // æµç•…åŠ¨ç”»å¾ªç¯
    function animate() {
        particles.forEach(particle => particle.update());
        requestAnimationFrame(animate);
    }
    animate();
}

// ä¸‰ã€æ ¸å¿ƒæ§åˆ¶ï¼šéŸ³ä¹+äº”å½©ç²’å­+å¤šå½©å¼¹çª—è”åŠ¨
window.onload = () => {
    const localAudio = document.getElementById('localAudio');
    const mainPlayBtn = document.getElementById('mainPlayBtn');
    const status = document.getElementById('status');
    let isInitiated = false;

    // éŸ³é¢‘åŠ è½½çŠ¶æ€æç¤º
    localAudio.addEventListener('loadeddata', () => {
        status.textContent = 'éŸ³ä¹å·²å°±ç»ªï¼Œç‚¹å‡»æŒ‰é’®å¼€å¯ç¼¤çº·æµªæ¼«æ•ˆæœï½';
    });

    localAudio.addEventListener('error', () => {
        status.textContent = 'æœªæ‰¾åˆ°love.mp3ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼';
    });

    // ä¸»æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    mainPlayBtn.addEventListener('click', () => {
        if (!isInitiated) {
            // 1. æ’­æ”¾æœ¬åœ°éŸ³ä¹
            localAudio.play().then(() => {
                // 2. åˆ›å»ºäº”å½©ç²’å­èƒŒæ™¯
                createColorfulParticleBackground();
                // 3. å¯åŠ¨å¤šå½©ç¥ç¦å¼¹çª—
                startTips();
                // 4. æ›´æ–°çŠ¶æ€å’ŒæŒ‰é’®
                status.textContent = 'ğŸ¶ ç»™å­æ€¡åšçš„ç¬¬ä¸€ä¸ªç½‘é¡µï¼Œå¸Œæœ›ä½ é†’æ¥çœ‹åˆ°æ—¶å¿ƒæƒ…æ˜¯éå¸¸å¼€å¿ƒçš„';
                mainPlayBtn.innerText = 'æ­£åœ¨æ´¾é€ç¾å¥½ç¥ç¦...';
                mainPlayBtn.disabled = true;
                mainPlayBtn.style.opacity = '0.8';
                isInitiated = true;
            }).catch(err => {
                status.textContent = 'æ’­æ”¾å¤±è´¥ï¼Œè¯·ç¡®ä¿love.mp3åœ¨åŒä¸€æ–‡ä»¶å¤¹ï¼';
                console.log('é”™è¯¯åŸå› ï¼š', err);
            });
        }
    });
};
</script>
</body>
</html>
